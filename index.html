<!DOCTYPE html>
<html>
<head>
	<title>LeapLearn</title>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.teal-green.min.css" />
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<link rel="stylesheet" type="text/css" href="css/tower-of-hanoi.css">
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

		<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	

	<script type="text/javascript" src="js/Detector.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/three.min.js"></script>
    <script type="text/javascript" src="js/leap.min.js"></script>
    <script type="text/javascript" src="LeapCameraControls.js"></script>
    <script type="text/javascript" src="LeapObjectControls.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<script type="text/javascript">

	var haltGestures = false;
	var renderer;
	function init() {
        // is webgl supported?
        if (!Detector.webgl) {
          Detector.addGetWebGLMessage();
          return false;
        };
        renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setSize($(window).width(), $(window).height());
        renderer.setClearColor(0xffffff, 1);
        $("#container").append(renderer.domElement);
        
      };   

	
	function transform(tipPosition, w, h) {
        var width = 150;
        var height = 150;
        var minHeight = 100;

        var ftx = tipPosition[0];
        var fty = tipPosition[1];
        ftx = (ftx > width ? width - 1 : (ftx < -width ? -width + 1 : ftx));
        fty = (fty > 2*height ? 2*height - 1 : (fty < minHeight ? minHeight + 1 : fty));
        var x = THREE.Math.mapLinear(ftx, -width, width, 0, w);
        var y = THREE.Math.mapLinear(fty, 2*height, minHeight, 0, h);
        return [x, y];
      };


      function showCursor(frame) {
        var hl = frame.hands.length;
        var fl = frame.pointables.length;

        if (hl == 1) {
          var f = frame.pointables[0];
          var cont = $(renderer.domElement);
          var offset = cont.offset();
          var coords = transform(f.tipPosition, cont.width(), cont.height());
          $("#cursor").css('left', offset.left + coords[0] - (($("#cursor").width() - 1)/2 + 1));
          $("#cursor").css('top', offset.top + coords[1] - (($("#cursor").height() - 1)/2 + 1));
        } else {
          $("#cursor").css('left', -1000);
          $("#cursor").css('top', -1000);
        };
      };

      function solar(tapPosition){
      	if (tapPosition[0] < -40.0 && tapPosition[0] > -120.0 && tapPosition[1] < 220.0 && tapPosition[1] > 180.0) {
      		return true;
      	}
      	return false;
      }
      function picture(tapPosition){
      	if (tapPosition[0] < 40.0 && tapPosition[0] > -40.0 && tapPosition[1] < 220.0 && tapPosition[1] > 180.0) {
      		return true;
      	}
      	return false;
      }
      function tower(tapPosition){
      	if (tapPosition[0] > 40.0 && tapPosition[0] < 120.0 && tapPosition[1] < 220.0 && tapPosition[1] > 180.0) {
      		return true;
      	}
      	return false;
      }

      $(function(){
        init();

        // leap loop
        Leap.loop(function(frame) {

          showCursor(frame);
          if(frame.valid && frame.pointables.length > 0){
              frame.gestures.forEach(function(gesture){

                if(!haltGestures){
                	if(frame.hands.length == 1) {
                		if(frame.pointables.length == 1) {
							switch (gesture.type){//circle, keyTap, screenTap, swipe
								case "keyTap":
								{
							  	console.log("Screen Tap Gesture");
							  	console.log(gesture.position);
							  	if (solar(gesture.position)) {
							  		console.log("Solar --> "+gesture.position[0]);
							  		// window.location = "http://www.yoururl.com";
							  	}
							  	else if (picture(gesture.position)) {
							  		console.log("picture --> "+gesture.position[0]);
							  		// window.location = "http://www.yoururl.com";
							  	}
							  	else if (tower(gesture.position)) {
							  		console.log("tower --> "+gesture.position[0]);

							  		window.location = "file:///M:/LeapLearn/Tower%20of%20Hanoi/three-leap-controls-master%20-%20new/threeleapcontrols-master/tower-of-hanoi.html";
							  	}
							  	// render();
							  	break;
								}
							}
                  		}
                  		else{
              				console.log("Only one finger allowed.");
              			}
              		}
              		else{
              			console.log("Only one hand allowed.");
              		}
              	}
              	else{
              		console.log("Gestures disabled! Refresh the page to enable gestures.");
              	}
            })
        };

          // render();
        });//leap.loop

        // detect controls change
        // setInterval(changeControlsIndex, 250);
      });

	</script>
</head>
<body>
<div class="container">
	
    
    <div class="wrapper col-md-4">
	            
	    <div class="card radius shadowDepth1">
	        <div class="card__image border-tlr-radius">
	            <!-- <img src="http://lorempixel.com/400/200/sports/" alt="image" class="border-tlr-radius"> -->
	            <img src="img/solar-system.jpg" alt="image" class="border-tlr-radius">
	        </div>

	        <div class="card__content card__padding">
	            <div class="card__share">

	                <a id="share" class="share-icon" href="#">
	                	<i class="fa fa-2x fa-star" aria-hidden="true"></i>
	                </a>
	            </div>

	            <article class="card__article">
	                <h3 style="text-align:center;"><a href="#">Solar System</a></h3>

	                <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus harum...</p> -->
	            </article>
	        </div>
	    </div>
	</div>

	<div class="wrapper col-md-4">
	            
	    <div class="card radius shadowDepth1">
	        <div class="card__image border-tlr-radius">
	            <!-- <img src="http://lorempixel.com/400/200/sports/" alt="image" class="border-tlr-radius"> -->
	            <img src="img/picture-puzzle.jpg" alt="image" class="border-tlr-radius">
	        </div>

	        <div class="card__content card__padding">
	            <div class="card__share">

	                <a id="share" class="share-icon" href="#">
	                	<i class="fa fa-2x fa-star" aria-hidden="true"></i>
	                </a>
	            </div>

	            <article class="card__article">
	                <h3 style="text-align:center;"><a href="#">Picture Puzzle</a></h3>

	                <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus harum...</p> -->
	            </article>
	        </div>
	    </div>
	</div>

	<div class="wrapper col-md-4">
	            
	    <div class="card radius shadowDepth1">
	        <div class="card__image border-tlr-radius">
	            <!-- <img src="http://lorempixel.com/400/200/sports/" alt="image" class="border-tlr-radius"> -->
	            <img src="img/toh-thumbnail.jpg" alt="image" class="border-tlr-radius">
	        </div>

	        <div class="card__content card__padding">
	            <div class="card__share">

	                <a id="share" class="share-icon" href="#">
	                	<i class="fa fa-2x fa-star" aria-hidden="true"></i>
	                </a>
	            </div>

	            <article class="card__article">
	                <h3 style="text-align:center;"><a href="#">Tower of Hanoi</a></h3>

	                <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus harum...</p> -->
	            </article>
	        </div>
	    </div>
	</div>
</div>
<div id="container"></div>
<div id="cursor"></div>
</body>
</html>